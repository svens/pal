#pragma once // -*- C++ -*-

/**
 * \file pal/worker
 * Simplest synchronous task executor implementation.
 */

#include <pal/__bits/lib>
#include <pal/not_null>
#include <pal/task>


__pal_begin


/**
 * Basic synchronous task executor. All submitted tasks are run immediately in
 * caller's thread context.
 */
class worker
{
public:

	/// Execute task \a t.
	void submit (not_null<task *> t) noexcept
	{
		(*t)();
	}
};


__pal_end
